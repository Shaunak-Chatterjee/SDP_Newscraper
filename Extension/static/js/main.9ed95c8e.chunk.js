(this["webpackJsonpnews-scrapper"]=this["webpackJsonpnews-scrapper"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(6),i=n.n(a),s=(n(88),n(14)),o=n(15),l=n(20),u=n(18),d=n(68),h=n.n(d),j=n(55),b=n.n(j),p=n(2),f=function(e){return Object(p.jsx)("div",{className:e.fromTopNews?b.a.Heading_:b.a.Heading,children:Object(p.jsx)("h1",{children:e.children})})},g=n(69),x=n.n(g),m=function(e){return Object(p.jsx)("p",{className:x.a.Para,children:e.children})},O=n(50),v=n.n(O),k=function(e){if(!0===e.choose){var t=null,n=null;return e.selArr.includes(e.id)?(t=v.a.active,n=e.rem):(t=v.a.Button,n=e.add),Object(p.jsx)("button",{className:t,onClick:n,children:e.children})}return Object(p.jsx)("button",{className:v.a.Button,onClick:e.clicklistener,children:e.children})},_=function(e){return Object(p.jsxs)("div",{style:{height:"500px",color:"#5cdb95"},children:[Object(p.jsxs)(f,{children:["Welcome to",Object(p.jsx)("br",{}),"News Scrapper"]}),Object(p.jsx)(m,{children:"Now read news articles of your choice from top news sites quickly and ad-free."}),Object(p.jsx)(k,{clicklistener:e.setupBtn,children:"Setup"})]})},w=n(48),C=n(56),y=n.n(C),S=function(e){return Object(p.jsx)("div",{className:e.error?y.a.error:y.a.success,children:e.message})},A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).addCategory=function(e){var t=Object(w.a)(r.state.selectedCategories);t.push(e),r.setState({selectedCategories:t})},r.removeCategory=function(e){var t=r.state.selectedCategories.filter((function(t){return t!==e}));r.setState({selectedCategories:t})},r.showAlert=function(){r.setState({showAlert:!0}),setTimeout((function(){r.setState({showAlert:!1})}),1e3)},r.continueButtonHandler=function(){0===r.state.selectedCategories.length?r.showAlert():r.props.continueHandler(r.state.selectedCategories)},r.state={selectedCategories:e.categories?e.categories:[],showAlert:!1},r.categories=["Education","Auto","Business","India","Lifestyle","Entertainment","Sport","Technology","Trending","World"],r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.categories.map((function(t){return Object(p.jsx)(k,{add:function(){return e.addCategory(t)},rem:function(){return e.removeCategory(t)},choose:!0,selArr:e.state.selectedCategories,id:t,children:t},t)})),n=null;return this.state.showAlert&&(n=Object(p.jsx)("div",{style:{width:"100%"},children:Object(p.jsx)(S,{error:!0,message:"Select atleast one category"})})),Object(p.jsxs)("div",{style:{height:"500px",color:"#5cdb95",padding:"0px 10px"},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{children:"Choose categories of your interest"}),t]}),Object(p.jsx)("div",{style:{marginTop:"70px"},children:n||Object(p.jsx)(k,{clicklistener:this.continueButtonHandler,children:"Continue"})})]})}}]),n}(r.Component),N=n(57),H=n.n(N),T=n(80),I=n(70),L=n(31),B=n.n(L),D=n(79),P=function(e){var t=e.getHours(),n=e.getMinutes(),r=null;return t>12?(r="PM",t-=12):12===t?r="PM":(r="AM",0===t&&(t=12)),n<10&&(n="0"+n),t+":"+n+" "+r},M=c.a.forwardRef((function(e,t){return Object(p.jsx)(D.a,{color:"rgba(255,255,255,0.3)",children:Object(p.jsx)("table",{className:B.a.table,ref:t,children:Object(p.jsxs)("tbody",{onClick:e.click,children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{rowSpan:"2",className:B.a.thumbnailContainer,children:Object(p.jsx)("img",{alt:"thumbnail",src:e.article.Image,className:B.a.thumbnail})}),Object(p.jsx)("td",{className:B.a.title,children:e.article.Title})]}),Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{className:B.a.desc,children:[e.article.ReadTime,Object(p.jsx)("span",{children:"\u2022"})," "+P(e.article.Date)+" ",Object(p.jsx)("span",{children:"\u2022"})," "+(n=e.article.Date,n.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()])]})})]})})});var n})),R=n(58),F=n.n(R),z=function(e){return Object(p.jsx)("div",{className:F.a.container,children:Object(p.jsxs)("div",{className:F.a.ldsripple,children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})})},J=n(71),E=n.n(J),V=function(e){var t=e.background;return Object(p.jsx)("div",{style:{backgroundImage:"url("+t+")",backgroundAttachment:e.fix?"fixed":"none",backgroundSize:"contain",margin:"-10px",padding:"10px 10px 10px 10px"},children:e.children})},W=n(78),U=n(140),q=n(142),G=n(73),Z=n.n(G),Q=function(e){var t=Object(U.a)((function(e){return{fab:{position:"fixed",zIndex:500,top:e.spacing(2),left:e.spacing(38),color:"#f64c72",backgroundColor:"rgba(8,12,60,0.5)","&:hover":{backgroundColor:"rgba(255,255,255,0.4)"}}}}))();return Object(p.jsx)("div",{children:Object(p.jsx)(q.a,{color:"primary","aria-label":"add",className:t.fab,size:"small",onClick:e.clicklistner,children:Object(p.jsx)(Z.a,{})})})},K=n(145),X=n(77),Y=n(144),$=n(146),ee=function(e){var t=c.a.useState(null),n=Object(W.a)(t,2),r=n[0],a=n[1],i=Object(X.a)({overrides:{MuiMenu:{paper:{background:"linear-gradient(45deg, blueviolet 25%, #080c3c  90%)",borderRadius:5,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",height:"auto"},list:{width:"auto"}},MuiMenuItem:{root:{fontFamily:"Roboto","&:hover":{backgroundColor:"rgba(255,102,255,0.5)"},fontWeight:400}}}}),s=function(t){switch(a(null),t){case"Refresh":e.refreshHandler();break;case"Choose categories":e.chooseHandler()}},o=["Refresh","Choose categories"].map((function(e){return Object(p.jsx)($.a,{onClick:function(){return s(e)},children:e},e)}));return Object(p.jsxs)("div",{children:[Object(p.jsx)(Q,{clicklistner:function(e){a(e.currentTarget)}}),Object(p.jsx)(Y.a,{theme:i,children:Object(p.jsx)(K.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:s,children:o})})]})},te=n.p+"static/media/bag_article.db202f8c.jpg",ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).loadArticles=Object(I.a)(H.a.mark((function e(){var t,n,c,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({isLoaded:!1}),t=r.state.endPoints,n=[],c=0,a=0;case 5:if(!(a<t.length)){e.next=12;break}return e.next=8,E.a.get(t[a]).then((function(e){var t;(t=n).push.apply(t,Object(w.a)(e.data.article))})).catch((function(e){console.log(e),c++}));case 8:a===t.length-1&&(c===t.length?r.setState({error:new Error("Error in fetching some news"),isLoaded:!0}):((n=n.map((function(e){var t=Object(T.a)({},e),n=t.Text.split(" ").length,r=Math.ceil(n/220);if(t.ReadTime=r+" min read ",t.Date=new Date(t.Date),isNaN(t.Date.getHours())){var c=e.Date.split(" ");c.pop(),c.push("+0530");var a=c.join(" ");t.Date=new Date(a)}return t}))).sort((function(e,t){return t.Date-e.Date})),r.setState({isLoaded:!0,articles:n})));case 9:a++,e.next=5;break;case 12:case"end":return e.stop()}}),e)})));var a=e.categories.map((function(e){return"http://ec2-3-143-207-59.us-east-2.compute.amazonaws.com/"+e.toLowerCase()}));return r.state={endPoints:a,isLoaded:null!==e.articles,error:null,articles:e.articles?e.articles:[]},r.ref=c.a.createRef(),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){null===this.props.articles?this.loadArticles():this.ref.current.scrollIntoView()}},{key:"render",value:function(){var e=this,t=this.state,n=t.articles,r=t.isLoaded,c=t.error;if(r){if(c)return Object(p.jsxs)("div",{children:[Object(p.jsx)(ee,{refreshHandler:this.loadArticles,chooseHandler:this.props.chooseHandler}),Object(p.jsx)(f,{fromTopNews:!0,children:"Error :("})]});var a=n.map((function(t,r){return-1!==e.props.index&&r===e.props.index?Object(p.jsx)(M,{article:t,click:function(){return e.props.listitemclick(t,n,r)},ref:e.ref},r):Object(p.jsx)(M,{article:t,click:function(){return e.props.listitemclick(t,n,r)}},r)}));return Object(p.jsx)("div",{style:{padding:"10px 5px 0px"},children:Object(p.jsxs)(V,{background:te,fix:!0,children:[Object(p.jsx)(ee,{refreshHandler:this.loadArticles,chooseHandler:this.props.chooseHandler}),Object(p.jsx)(f,{fromTopNews:!0,children:"Top news"}),a]})})}return Object(p.jsx)(z,{})}}]),n}(r.Component),re=n(25),ce=n.n(re),ae=n(74),ie=n.n(ae),se=function(e){var t=Object(U.a)((function(t){return{fab:{position:"fixed",zIndex:500,top:t.spacing(2),left:t.spacing(e.leftSpace?e.leftSpace:1.5),color:"#f64c72",backgroundColor:"rgba(8,12,60,0.5)","&:hover":{backgroundColor:"rgba(255,255,255,0.4)"}}}}))();return Object(p.jsx)("div",{children:Object(p.jsx)(q.a,{color:"primary","aria-label":"add",className:t.fab,size:"small",onClick:e.clicklistner,children:Object(p.jsx)(ie.a,{})})})},oe=n(75),le=n.n(oe),ue=function(e){var t=Object(U.a)((function(e){return{fab:{position:"fixed",zIndex:500,top:e.spacing(53),left:e.spacing(35),color:"#080c3c",backgroundColor:"rgba(92,219,149,0.7)","&:hover":{backgroundColor:"rgba(92,219,149,1)"}}}}))();return Object(p.jsx)("div",{children:Object(p.jsx)(q.a,{color:"primary","aria-label":"add",className:t.fab,onClick:e.clicklistner,children:Object(p.jsx)(le.a,{})})})},de=n(76),he=n.n(de),je=function(e){var t=Object(U.a)((function(e){return{fab:{position:"fixed",zIndex:500,top:e.spacing(45),left:e.spacing(35),color:"#080c3c",backgroundColor:"rgba(255,102,255,0.7)","&:hover":{backgroundColor:"rgba(255,102,255,1)"}}}}))();return Object(p.jsx)("div",{children:Object(p.jsx)(q.a,{color:"primary","aria-label":"add",className:t.fab,onClick:e.clicklistner,children:Object(p.jsx)(he.a,{})})})},be=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).openLink=function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){var n=t[0];chrome.tabs.update(n.id,{url:e})}))},r.timeout=null,r.timer=function(){window.speechSynthesis.pause(),window.speechSynthesis.resume(),r.timeout=setTimeout(r.timer,1e4)},r.readArticle=function(e){if("speechSynthesis"in window){window.speechSynthesis.cancel(),r.timeout=setTimeout(r.timer,1e4);var t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.9,t.onend=function(){return clearTimeout(r.timeout)},window.speechSynthesis.speak(t)}else console.log("Can't play audio")},r.childDiv=c.a.createRef(),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.childDiv.current.scrollIntoView()}},{key:"componentWillUnmount",value:function(){window.speechSynthesis.cancel()}},{key:"render",value:function(){var e=this;return Object(p.jsx)(V,{background:te,fix:!0,children:Object(p.jsxs)("div",{className:ce.a.mainContainer,ref:this.childDiv,children:[Object(p.jsx)(se,{leftSpace:.5,clicklistner:this.props.backBtnHandler}),Object(p.jsx)(ue,{clicklistner:function(){return e.openLink(e.props.article.Link)}}),Object(p.jsx)(je,{clicklistner:function(){return e.readArticle(e.props.article.Text)}}),Object(p.jsx)("div",{className:ce.a.imgContainer,children:Object(p.jsx)("img",{src:this.props.article.Image,alt:"",className:ce.a.image})}),Object(p.jsx)("h2",{className:ce.a.heading,children:this.props.article.Title}),Object(p.jsx)("p",{className:ce.a.content,children:this.props.article.Text}),Object(p.jsx)("p",{className:ce.a.end,children:"* * *"})]})})}}]),n}(r.Component),pe=n.p+"static/media/bag_home.89f9cace.jpg",fe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).articles=null,r.indexToView=-1,r.welcomeSetupHandler=function(){r.setState({currentPage:"choose"})},r.chooseCategoriesContinueHandler=function(e){r.articles=null,r.setState({currentPage:"topNews",selectedCategories:e}),localStorage.setItem("categories",JSON.stringify(e))},r.listItemClickHandler=function(e,t,n){setTimeout((function(){r.setState({currentPage:"fullArticle",selectedArticle:e})}),100),r.articles=t,r.indexToView=n},r.fullArticleBackButtonHandler=function(){r.setState({currentPage:"topNews"})},r.appRef=c.a.createRef(),r.state={currentPage:"welcome",selectedCategories:null,selectedArticle:null,loadedArticle:null},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("categories"));e&&"welcome"===this.state.currentPage&&this.setState({currentPage:"topNews",selectedCategories:e})}},{key:"render",value:function(){var e=null;switch(this.state.currentPage){case"welcome":e=Object(p.jsx)(V,{background:pe,children:Object(p.jsx)(_,{setupBtn:this.welcomeSetupHandler})});break;case"choose":e=Object(p.jsx)(V,{background:pe,children:Object(p.jsx)(A,{continueHandler:this.chooseCategoriesContinueHandler,categories:this.state.selectedCategories})});break;case"topNews":e=Object(p.jsx)(ne,{categories:this.state.selectedCategories,listitemclick:this.listItemClickHandler,chooseHandler:this.welcomeSetupHandler,articles:this.articles,index:this.indexToView});break;case"fullArticle":e=Object(p.jsx)(be,{article:this.state.selectedArticle,backBtnHandler:this.fullArticleBackButtonHandler});break;default:e=null}return Object(p.jsx)("div",{className:h.a.App,ref:this.appRef,children:e})}}]),n}(r.Component),ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(fe,{})}),document.getElementById("root")),ge()},25:function(e,t,n){e.exports={mainContainer:"FullArticle_mainContainer__1Jrag",image:"FullArticle_image__1o_Lk",heading:"FullArticle_heading__2r7y_",content:"FullArticle_content__1swl9",end:"FullArticle_end__1Fzsz"}},31:function(e,t,n){e.exports={table:"ListItem_table__3n6Zb",title:"ListItem_title__18JIl",desc:"ListItem_desc__2nucZ",thumbnailContainer:"ListItem_thumbnailContainer__3SOeg",thumbnail:"ListItem_thumbnail__290Rs"}},50:function(e,t,n){e.exports={Button:"Button_Button__3GP5U",active:"Button_active__uK4gw"}},55:function(e,t,n){e.exports={Heading:"Heading_Heading__2eazL",Heading_:"Heading_Heading___2iSwm"}},56:function(e,t,n){e.exports={success:"Alert_success__311gO",error:"Alert_error__1HGIQ"}},58:function(e,t,n){e.exports={container:"Loader_container__3A7Qq",ldsripple:"Loader_ldsripple__2G6_5"}},68:function(e,t,n){e.exports={App:"App_App__pppTX"}},69:function(e,t,n){e.exports={Para:"Para_Para__25ZCm"}},88:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.9ed95c8e.chunk.js.map